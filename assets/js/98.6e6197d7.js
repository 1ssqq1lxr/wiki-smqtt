(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{519:function(t,s,a){"use strict";a.r(s);var e=a(2),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mqtt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mqtt"}},[t._v("#")]),t._v(" MQTT")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("smqtt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tcp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MQTT配置")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1883")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mqtt端口号")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("wiretap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 二进制日志 前提是 smqtt.logLevel = DEBUG")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bossThreadSize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# boss线程 默认=cpu核心数,推荐 1~2 即可")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("workThreadSize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# work线程 默认=cpu核心数*2")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("businessThreadSize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 业务线程数 默认=cpu核心数*10")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("businessQueueSize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#业务队列 默认=100000")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("messageMaxSize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4194304")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 接收消息的最大限制 默认4194304(4M)")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("lowWaterMark")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4000000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 不建议配置 默认 32768")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("highWaterMark")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80000000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 不建议配置 默认 65536")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# globalReadWriteSize: 10000000,100000000  全局读写大小限制")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# channelReadWriteSize: 10000000,100000000 单个channel读写大小限制")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("SO_BACKLOG")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ssl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl配置")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开关")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /user/server.key "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 私钥")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("crt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /user/server.crt "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 公钥")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ca")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /user/my.ca "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 证书")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("port")]),t._v(" "),s("td",[t._v("端口号")])]),t._v(" "),s("tr",[s("td",[t._v("wiretap")]),t._v(" "),s("td",[t._v("是否打印二进制报文，生产环境谨慎使用")])]),t._v(" "),s("tr",[s("td",[t._v("bossThreadSize")]),t._v(" "),s("td",[t._v("Netty boss线程 启动一个端口一般1~2线程即可")])]),t._v(" "),s("tr",[s("td",[t._v("workThreadSize")]),t._v(" "),s("td",[t._v("Netty work线程 推荐cpu数+3")])]),t._v(" "),s("tr",[s("td",[t._v("businessThreadSize")]),t._v(" "),s("td",[t._v("业务线程 推荐cpu数")])]),t._v(" "),s("tr",[s("td",[t._v("businessQueueSize")]),t._v(" "),s("td",[t._v("背压任务数，推荐200000")])]),t._v(" "),s("tr",[s("td",[t._v("messageMaxSize")]),t._v(" "),s("td",[t._v("Mqtt协议单词报文负载大小")])]),t._v(" "),s("tr",[s("td",[t._v("lowWaterMark")]),t._v(" "),s("td",[t._v("低水位，最好默认")])]),t._v(" "),s("tr",[s("td",[t._v("highWaterMark")]),t._v(" "),s("td",[t._v("高水位，最好默认")])]),t._v(" "),s("tr",[s("td",[t._v("globalReadWriteSize")]),t._v(" "),s("td",[t._v("全局读写大小/每秒 格式： 读数_写数")])]),t._v(" "),s("tr",[s("td",[t._v("channelReadWriteSize")]),t._v(" "),s("td",[t._v("单个连接读写大小/每秒 格式： 读数_写数")])]),t._v(" "),s("tr",[s("td",[t._v("options")]),t._v(" "),s("td",[t._v("Netty启动options参数")])]),t._v(" "),s("tr",[s("td",[t._v("ssl")]),t._v(" "),s("td",[t._v("请参考SSL配置")])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);