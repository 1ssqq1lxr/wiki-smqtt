(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{458:function(a,s,t){"use strict";t.r(s);var r=t(2),l=Object(r.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h3",{attrs:{id:"_1-配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置文件"}},[a._v("#")]),a._v(" 1. 配置文件")]),a._v(" "),s("div",{staticClass:"language-markdown line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-markdown"}},[s("code",[a._v("smqtt:\n  acl:\n    aclPolicy: NONE # NONE or FILE or JDBC\n    filePath:  # FILE时配置filePath\n    jdbcAclConfig:\n      driver: com.mysql.jdbc.Driver\n      url: jdbc:mysql://localhost:3306/smqtt\n      username: root\n      password: 123\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br")])]),s("ul",[s("li",[a._v("aclPolicy：\n"),s("ul",[s("li",[a._v("NONE：不启用ACL权限管理")]),a._v(" "),s("li",[a._v("JDBC：  使用MYSQL存储ACL权限配置（推荐）")]),a._v(" "),s("li",[a._v("FILE ：  使用文件存储ACL权限配置")])])]),a._v(" "),s("li",[a._v("jdbcAclConfig ：MYSQL数据库配置\n"),s("ul",[s("li",[a._v("driver：数据库驱动")]),a._v(" "),s("li",[a._v("url：数据库连接")]),a._v(" "),s("li",[a._v("username：数据库账号")]),a._v(" "),s("li",[a._v("password：数据库密码")])])]),a._v(" "),s("li",[a._v("filePath：ACL权限配置存储文件的路径，选择FILE储存时配置生效。")])]),a._v(" "),s("h3",{attrs:{id:"_2-jdbc模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-jdbc模式"}},[a._v("#")]),a._v(" 2. JDBC模式")]),a._v(" "),s("p",[a._v("JDBC模式，配置数据库连接信息以后，"),s("strong",[a._v("smqtt启动自动创建数据库表")]),a._v("。表名：casbin_rule， 表结构如下：")]),a._v(" "),s("p",[s("img",{attrs:{src:"image-20220321102044068.png",alt:"image-20220321102044068"}})]),a._v(" "),s("h3",{attrs:{id:"_3-file-模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-file-模式"}},[a._v("#")]),a._v(" 3. FILE 模式")]),a._v(" "),s("p",[a._v("​\t不推荐使用")]),a._v(" "),s("h3",{attrs:{id:"_4-维护acl配置数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-维护acl配置数据"}},[a._v("#")]),a._v(" 4. 维护ACL配置数据")]),a._v(" "),s("p",[s("img",{attrs:{src:"50d97d67d55b836deae4d996d808e11.png",alt:"image-20220321100855446"}})])])}),[],!1,null,null,null);s.default=l.exports}}]);